2017-01-14 [+] Изменена версия на 1.6.2.b14
2017-01-14 [!] Окончательно оптимизирован русскоязычный файл описания к модулю
2017-01-14 [!] Обнаружена ошибка с дублирующимися опциями в товаре! Связана она была с тем что при записи товара в админке, с таблице product_option затиралось значение поля value, а модуль использовал его при поиске опции, сейчас это поле не используется.
2017-01-14 [!] Доработана генерация SEO для товаров паттернов: {cats} и {brand}
2017-01-14 [!] Исправлена ошибка в SEO у товаров когда отключено поле, то раньше оно обнулялось, теперь остается старое значение.
2017-01-14 [!] Исправлена работа SEO, теперь для товаров оно генерится при загрузке каталога, убран паттерн {price}
2017-01-12 [!] Изменено описание к опции "Очистка журнала"
2017-01-12 [!] Исправлена ошибка в опции "Не показывать товар с нулевым остатком", она не удаляла остатки, подробнее ее работу читайте в описании к опции.
2017-01-12 [+] Добавлена опция "Не показывать товар с нулевой ценой"
2017-01-09 [+] Добавлена опция установки остатков в 0 у всех товаров в каталоге при загрузке категорий в import и только при "полной выгрузке".
2017-01-09 [+] Удалена опция очистки остатков у товаров которые в импорте (в каталоге)
2017-01-09 [!] Исправлена ошибка при подсчете общего количества остатков при загрузке остатков где указаны остатки по складам и общие остатки
2017-01-08 [+] Приведен в порядок русскоязычный файл модуля
2017-01-08 [!] Исправлена работа SEO с товарами
2017-01-08 [+] Сделано отключаемое SEO
2017-01-08 [+] При полной выгрузке из торговой системы будут удалены старые опции и их значения из только из товара. В справочнике они останутся.
2017-01-07 [!] Исправлена ошибка из-за которой не записывались остатки характеристик если остатки выгружены были без складов
2017-01-07 [!] Исправлена ошибка из-за которой не формировались родительские категории.
2017-01-07 [!] Исправлена ошибка при формировании названия характеристики и их значений при загрузке в режиме "Характеристика"
2017-01-07 [!] Исправлены ошибки с ценами, не пересчитывалась валюта по курсу в карточке товара при смене валюты
2017-01-05 [+] Убрана опция в настройках которая включает синхронизацию товаров по реквизиту <Код></Код> который передается в товаре и в категории, теперь если это поле модуль находит, то он уже не ищет связи по Ид объекту а ищет id по значению этого поля. ВНИМАНИЕ! это поле должно быть только числовым, иначе получите ошибку!
2017-01-04 [+] Протестировано на opencart.pro 2.1.0.2
2017-01-04 [!] Исправлена ошибка в opencart.pro 2.1.0.2 при наложении водяных знаков на png файл, добавлена проверка на то что является ли файл картинкой.
2016-12-21 [+] Изменен номер версии на 1.6.2.b12
2016-12-21 [+] Адаптировано и протестировано од XML 2.09 и 2.10 Битрикс
2016-12-12 [+] Присвоен номер версии 1.6.2.b11
2016-12-12 [+] Добавлена кнопка в админ-панели удаления старых неиспользованных картинок
2016-12-12 [!] Произведено тестирование с УТ 11.3
2016-12-07 [!] Изменен модификатор чтобы выводились остатки в базовой единице, а пересчет в другие потом будет реализован в самом шаблоне, и будет реализована передача единицы измерения в корзину, пока только базовая работает
2016-12-05 [!] Изменен модификатор
2016-12-05 [!] Удалены поля product_feature_id и unit_id из таблицы cart для обратной совместимости с версиями 2.0.x, пришлось изменть алгоритм выисления выбранной характеристики.
2016-11-28 [+] Произведена оптимизация запросов, теперь определение полей в таблице выполняется только один раз при загрузке файла и записывается в массив глобальной перемнной.
2016-11-28 [+] Протестирована поддержка XML 2.04
2016-11-06 [!] Произведена небольшая оптимизация
2016-11-06 [!] Исправлена ошибка, связанная с установкой обновлений.
2016-11-05 [!] В стадии дорааботки выгрузка адреса в формате для торговой системы, пока будет протестировано на 1С:Предприятие.
2016-11-05 [!] Еще в стадии переработки шаблон товара где выводится наличие товара в единицах.
2016-11-05 [!] Переделана структура работы с единицами измерения, суть такова, если загружается остаток или цена, но не указана единица измерений, то подразумевается базовая, если базовая то коэффициент равен 1, у товара могут быть неограниченное количество единиц измерений. Единицы измерения товара хранятся в таблице product_unit.
2016-11-05 [+] В стадии разработки расширенное уведомление пользователей о смене статуса заказа
2016-11-05 [+] Добавлено поле "Отчество" для покупателя и в заказ "Отчество плательщика" и "Отчество получателя., это поле выгружается в торговую систему
2016-11-05 [+] Добавлено поле "ИНН Организации плательщика" и "ИНН Организации получателя", если оно будет заполнено, то оно выгрузится в торговую систему при обмене заказами
2016-11-05 [!] Улучшена установка обновлений модуля, теперь модуль имеет установочную версию, а обновления устанавливаются при первом входе в "админку"
2016-11-05 [+] Выбор кодировки выгрузки заказов, для некоторых торговых систем.
2016-11-05 [+] Двусторонний обмен статусами заказов через свойство "Статус заказа"
2016-11-05 [+] Двусторонний обмен заказами (обновляются заказы на сайте только те, которые были созданы на сайте)
2016-11-01 [!] Добавлена опция отключающая создание новых категорий
2016-11-01 [!] Добавлена опция отключающая создание новых товаров
2016-11-01 [!] Измен номер версии релиза на 1.6.2.b10
2016-10-30 [!] Исправлена ошибка при инсталляции модуля
2016-10-30 [+] Добавлена вкладка информации, пока в ней отображается количество связей
2016-10-30 [+] Добавлена загрузка из свойства "Изготовитель" в производители товара
2016-10-30 [+] Начал разработку двустороннего обмена заказами
2016-10-30 [-] SEO пока не функционирует, просьба его неиспользовать, но работы по нему еще ведутся
2016-10-30 [+] Добавлено подробное описание к каждой опции
2016-10-30 [+] Переделана структура админ-панели
2016-10-30 [+] Включена функция экспорта заказов в файл из админ-панели
2016-10-30 [+] Добавлена функция автозагрузки цен и автоматической распределения по имеющимся группам покупателей
2016-10-30 [!] Исправлена ошибка при выгрузке заказов не выгружались характеристики товара
2016-10-30 [!] Переделана функция распаковки архива
2016-10-30 [+] Добавлена поддержка CML 2.09
2016-08-10 [+] Если товар был удален в CMS а связи по каким-либо причинам остались, при повторной выгрузке модуль проверить существование товара по ID, в случае отсутствия удалит неверную связь, создаст товар заново и пропишет связь. То же самое и для категорий.
2016-08-10 [+] При поиске нового товара по артикулу, если пустой артикул попадется, с артикул будет записан Ид товара
2016-08-10 [+] При выгрузке из ТС категорий производится поиск по наименованию, с учетом родителя, то есть если все связи удалить заново выгрузиться, то связи у товаров и категорий будут восстановлены
2016-08-10 [+] Добавлена кнопка очистки связей
2016-08-10 [+] Добавлена таблица свойств определяемых пользователем в ТС (муляж), если будет потребность реализую
2016-08-10 [+] Добавлено описание к загружаемым полям товара, свойств и реквизитов
2016-08-18 [!] Исправлена ошибка при работе автоконвертации валюты, теперь ищет валюту из файла по коду а потом по символам справа
2016-08-18 [!] Исправлены ошибки с дополнительными ценами (скидками)
2016-07-04 [!] Исправлено постоянное отображение остатка в карточке товара, которое не отключалось настройкой в системе "Не показывать количество"
2016-07-04 [!] Исправлено чтобы не отображались цены при включенной опции не показывать цены не авторизованным покупателям
2016-07-04 [+] Добавлена опция в настройке, при загрузке характеристик, включает или отключает "Вычитать со склада"
2016-07-01 [+] Добавлена опция в настройке, которая отключает обновление производителя
2016-07-01 [!] Исправлена Ошибка "Error: Table '*_manufacturer_description' doesn't exist" возникающая в OpenCart 2.1.0.2
2016-06-30 [!] Исправлена ошибка в SEO: срабатывала два раза при обновлении товара
2016-06-30 [!] Исправлена ошибка в SEO при обновлении описания производителя
2016-06-30 [!] Исправлена ошибка, когда нет характеристики, цена была пустой
2016-06-30 [!] Переписан функционал SEO, который в корне изменил работу, раньше SEO формировалось по окончании каждого предложения, а сейчас формируется для каждого товара в отдельности после загрузки предложения. Но есть одно но, артикул и цена при загрузке характеристик будут каждый раз разные надо это учесть! Я думаю в ближайшее время с этим вопрос тоже будет решен.
2016-06-29 [!] Исправлена ошибка с в настройках переключателями
2016-06-29 [!] Исправлена ошибка в настройке обновления описания - неверно указана название переменной, в результате описание не обновлялось.
2016-06-29 [!] Исправлена ошибка. Вызов несуществующей функции debug()
2016-06-25 [+] Протестирован файл XML 2.08, в связи с этим внесены небольшие доработки
2016-06-25 [+] Изменена опция загрузки наименования и обновления
2016-06-25 [+] Добавлены две дополнительные опции для загрузки характеристик
2016-06-25 [!] Исправлены ошибки при загрузке характеристик
2016-06-25 [+] Переделан шаблон
2016-06-21 [!] Исправлены ошибки в шаблоне
2016-06-20 [+] Возможность хранения остатков с точностью до тысячных
2016-06-20 [+] Добавлена конвертация валюты видов цен в основную валюту (пока без округления).
2016-06-20 [+] Добавлена загрузка характеристик из 1С в режиме характеристика -> опция
2016-06-20 [!] Исправлены ошибки в шаблоне и модификаторе
2016-16-16 [!] Тестирование выполнялось на ocStore 2.1.0.2.1
2016-06-16 [+] Добавлена загрузка видов цен с разным валютами, т.е. валюта привязывается к виду цены, пересчитывается в влюту по умолчанию при загрузке, округление происходит по количеству знаков после запятой.
2016-06-16 [!] Исправлены различные ошибки
2016-06-16 [+] Добавлена опция очистки лога при начале обмена
2016-06-16 [+] Добавлен учет по характеристикам из 1С, в админке в опциях еще недоделано, поэтому Вы увидите несколько дублирующихся записей, это нормально, т.к. значение одной и той же опции может быть привязано к нескольким группам покупателей, позже будут добавлены вкладки группы покупателей в опции.
2016-06-06 [+] Протестирована на чистой ocStore 2.1.0.2.1
2016-06-06 [+] Добавлена работа с характеристиками (пока на стадии отладки)
2016-05-16 [!] Исправлена ошибка в ранних версиях opencart 2.x (2.0.3.1) не читалась настройка цен и цены не грузились. Причина в хранении настроек, раньше применялась упаковка через serialise и unserialize, а в последующих json_encode и json_decode
2016-05-16 [+] Добавлена опция отключающая категорию при добавлении в каталог
2016-05-16 [+] Добавлена опция отключающая товар при добавлении в каталог
2016-05-16 [!] Изменена переменная отвечающая за формат выгрузки, поэтому после обновления нужно записать изменения
2016-05-16 [+] Добавлен вывод в лог информации по уровням, то есть краткая, отладочная или отключено
2016-05-16 [+] Доработана работа характеристик только в одном режиме - все свойства характеристики в одну опцию.
2016-05-16 [!] Исправлена проблема при выгрузке заказов, выгружался только один последний
2016-05-05 [!] Исправлена функция applyWatermark(), номер версии CMS теперь получаем так: $this->config->get('exchange1c_CMS_version')
2016-05-05 [+] Изменены элементы в разделе обмен товарами, обновление полей заменено на "Загружать при обмене", не нашел причины по которой старая не работала в OpenCart 2.0.3.1. По этой же причине не будет в этой версии загружать цены, завтра разберусь.
2016-05-05 [+] Добавлена в регистр значение exchange1c_CMS_version, которая используется в контроллере во время обмена с 1С
2016-05-04 [!] Исправлена ошибка PHP Notice:  Use of undefined constant VERSION - assumed 'VERSION' in /var/www/vhosts/ptr-print.ru/ptr-print.ru/httpdocs/subdomains/ocshop21014/admin/model/tool/exchange1c.php on line 1153, в функции applyWatermark(). Константа VERSION тут недоступна.
2016-05-04 [!] Исправлена ошибка в функции queryOrders() при обращении к константе VERSION, т.к. эта константа не доступна при вызове данной процедуры.
2016-05-04 [!] Исправлена ошибка: PHP Notice:  Error: Unknown column 'name' in 'field list'<br />Error No: 1054<br />INSERT INTO `oc_manufacturer_description` SET manufacturer_id = '24', language_id = '1', description = 'Производитель THERMEX', name = 'THERMEX', в функции updateManufacturer()
2016-05-04 [+] Доработана функция deleteLinkFeature()
2016-05-04 [!] Исправлена ошибка money_format() замен на $this->currency->format()
2016-05-04 [!] Исправлена ошибка Error: Column 'comment' cannot be null<br />Error No: 1048<br />INSERT INTO `oc_unit` (unit_id, name, number_code, rus_name1, eng_name1, rus_name2, eng_name2, unit_group_id, unit_type_id, visible, comment) VALUES(3, 'Дециметр', '005', 'дм', 'dm', 'ДМ', 'DMT', 1, 1, 1, NULL)
2016-05-03 [!] Исправлена ошибка с SEO
2016-05-03 [+] Добавлено при удалении модуля, автоматическое удаление модификатора
2016-05-03 [!] Изменена структура таблицы product_feature_value, но так как версия не менялась, необходимо удалить и заново установить модуль. Перед удалением можете сделать резервную копию таблицы setting, чтобы заново не настраивать модуль через админку
2016-05-03 [!] Добавлен запрет на http запросы export и remove с пустым списком IP адресов
2016-05-03 [+] Доработана функция parseFeature для корректной загрузки значений характеристики в одну опцию (при выборе опции "объединить все в однцу опцию" в настройке модуля)
2016-05-03 [+] Дорабатаны функции по Производителю, поиск по названию или Ид
2016-05-03 [!] Исправлена ошибка при загрузке производителя и категорий при первом импорте с 1С
2016-05-03 [+] Дорабата функция updateManufacturer(), создана новая функция prepareStrQueryManufacturerDescription()
2016-05-03 [+] Адаптирован под ocstore 2.1.0.2.1, проверен загрузкой архива в ручном режиме выгруженном из 1С
2016-05-03 [!] Исправлена ошибка при установке модуля в OcStore 2.1.0.2.1
2016-05-03 [+] Дорабатана иснсталляция модуля
2016-05-02 [!] Исправлена функция вывода сообщения лог, переименована переменная $memory в $memory_usage, в связи с тем что это название переменной может быть зарезервировано.
2016-05-02 [!] Исправлена функция заполнение родительских категорий
2016-05-02 [+] Добавлена функция удаления модуля http://opencart2101.ptr-print.ru/export/exchange1c.php?module=remove
2016-05-02 [+] Добавлена функция экспорта модуля http://opencart2101.ptr-print.ru/export/exchange1c.php?module=export
2016-02-04 [+] Добавлена опция которая устанавливает какие поля товара нужно обновлять при обмене
2016-01-31 [!] Создано обновление которое позволяет без потери данных обновить таблицы базы данных до версии 1.6.2.4b
2016-01-31 [!] Доработана функция обновления
2016-01-31 [!] Протестировано на Opencart 2.0.3.1, 2.1.0.1, ocshop.pro 2.1.0.1.4
2016-01-31 [!] Исправлена ошибка при добавлении/обновлении производителя (из-за таблицы manufacturer_description)
2016-01-31 [+] Доработана функция обновления версии
2016-01-31 [!] Исправлены ошибки с производителем из свойств
2016-01-28 [+] Файл заказов orders.xml, который отправляется в 1С можно найти в бета версии в папке cache/exchange1c
2016-01-28 [!] Исправлена ошибка c SEO при включении опции транслитерация - не работала
2016-01-28 [!] Исправлена ошибка, не устанавливался статус товара, которых нет в наличии
2016-01-28 [+] Добавлена загрузка производителя из свойства с названием "Производитель" (для 1С конфигураций где не предусмотрена стандартная выгрузка производителя/изготовителя)
2016-01-27 [+] Добавлена выгрузка заказов в 1С
2016-01-26 [+] Включена поддержка Deadcow SEO 3.0
2016-01-26 [!] Внесены в модификатор изменения для исправления ошибки при работе с водяными знаками для OpenCart 2.0.3.1
2016-01-26 [+] В админке показывает объем выделенной памяти в настройках PHP
2016-01-26 [+] Модуль теперь сообщает максимально загружаемый файл через POST 1С
2016-01-26 [+] Добавлена загрузка ZIP архивов как при ручной загрузке, так и при обмене с 1С
2015-12-11 [+] При удалении модуля удаляется автоматически и модификатор, но чтобы изменения вступили в силу нужно нажать "обновить" в разделе модификаторы.
2015-12-11 [+] Добавлен список полей, в котором можно указывать какие поля товара будут
2015-12-11 [+] Если не заполнять типы цен, по умолчанию в основную загрузит только первую цену.
2015-12-11 [+] При удалении товаров и категорий из админки удаляются и связи с 1С.
2015-12-11 [+] Исправлена ошибка с обновлением товара.
2015-12-11 [+] Доработана функция смены статуса заказа при выгрузке заказа в 1С.
2015-12-11 [+] Добавлена опция выбора записи наименования товара из 1С "Наименование полное" или "Наименование".
2015-12-11 [!] Исправлена ошибка авторизации OpenCart 2.0.3.1
2015-12-07 [!] Пока не удалось исправить ошибку при авторизации OpenCart 2.0.3.1-
2015-12-07 [!] Исправлена ошибка при проверке по ссылке /export/exchange1c
2015-12-07 ========== Изменена версия на 1.6.1.13
2015-12-07 [!] Исправлены разные ошибки
2015-12-06 [+] Добавлены события при удалении товара и категории - удаление связей и файлов
2015-12-06 [!] Исправлена ошибка в шаблоне модуля, ссылка на OPENCART 2.1.0.3 была ошибочной
2015-12-06 ========== Изменена версия на 1.6.1.12
2015-12-06 [+] Доработана опция синхронизация Ид->id для групп
2015-12-05 [!] Исправлена ошибка при заполнении родительских категорий
2015-12-05 [+] Добавлена опция записи Ид в коды товаров (категории не затрагиваются)
2015-12-05 [!] Исправлены ошибки при выгрузке заказов (смена статуса заказа при выгрузке временно не работает)
2015-12-03 [+] Доработана опция заполнение родительских категорий для ocshop и opencart
2015-12-03 ========== Изменена версия на 1.6.1.11
2015-11-28 [-] Удалена функция getCategoryIdByName и ее вызов
2015-11-28 [!] Исправлены ошибки в функциях initProduct(), updateProduct(), getProductBySKU(), getProductIdBy1CProductId()
2015-11-28 [!] Исправлена ошибка, в коде забыл убрать return. Поэтому загружалось только первое предложенние
2015-11-28 ========== Изменена версия на 1.6.1.10
2015-11-26 [-] Убрана очистка таблиц, кроме остатков при загрузке, очистка теперь выполняется через кнопку в административной части. Кстати очистка остатков будет выполняться по всем магазинам!
2015-11-26 [!] При проблее авторизации в логе можно будет найти ошибку (необходимо включить лог)
2015-11-26 [+] Добавлено определение названия и версии CMS (пока определяет ocshop,opencart,ocstore) информация нужна для отладки модуля
2015-11-26 [!] Исправлены ошибки в шаблоне, при определении цен
2015-11-26 ========== Изменена версия на 1.6.1.9
2015-11-13 [!] По-умолчанию включена индексация на товары и категории
2015-11-23 [+] Добавлена опция отключения товара при остатке меньше 1
2015-11-23 [!] Исправлены ошибки
2015-11-17 [+] Добавлена загрузка каталогов из 1С по магазинам
2015-11-17 ========== Изменена версия на 1.6.1.8
2015-11-17 [!] Модуль был протестирован на CMS ocShop 2.1.0.1.4, OpenCart 2.1.0.1 выгружалось из 1С:Предприятие УТ 11.1.10.38, УТ 11.1.6.26
2015-11-17 [!] Заполнение родительскими категориями не тестировалось
2015-11-17 [-] Временно убраны связанные опции, т.к. модуля такого нет в дальнейшем планирую встроить в этот модуль эти функции
2015-11-17 [+] Оптимизирована запись в лог, добавлено много отладочной информации которая будет убрана в релизах
2015-11-17 [!] Исправлены ошибки
2015-11-17 ========== Изменена версия на 1.6.1.7
2015-11-10 [!] Исправлена ошибка при загрузке цен. Переписана функция по новой.
2015-11-05 [+] включена проверка на доступ к папкам в которые будет производится запись
2015-11-04 [+] изменилась длина версии, последняя цифра означает порядковый номер бета версии, т.е. для релиза последняя цифра должна быть 0
2015-11-04 [!] исправлена ошибка для ocshop когда в noindex товара записывалось пустое значение вместо цифры, по умолчанию 1
2015-11-04 [+] отформатирован местами текст кода
2015-11-04 [+] добавлена поддержка ocShop 2.1.0.1.4
2015-11-04 [+] добавлено определение CMS и версии при обмене из 1С
2015-11-04 [!] исправлена ошибка при загрузке картинок
2015-11-02 [!] При деинсталляции модуля, удаляются и его файлы с диска
2015-11-02 [+] Протестировано на УТ 10.3.29.1 и OpenCart 2.1.0.1
2015-11-02 [!] исправлены некоторые ошибки
2015-11-02 [+] при отключенной авторизации на сервере - включается принудительно, и при отсутствии необходимых строк в .htaccess выводит сообщение в лог при ошибочной авторизации.
2015-11-02 [+] добавлено обновление версии в настройках
2015-11-02 ========== Обновлено до версии 1.6.1.6b
2015-10-25 [+] Первый комментарий